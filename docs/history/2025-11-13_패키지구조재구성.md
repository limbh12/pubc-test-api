# íŒ¨í‚¤ì§€ êµ¬ì¡° ì¬êµ¬ì„± ì‘ì—… ê¸°ë¡

**ì‘ì—…ì¼**: 2025ë…„ 11ì›” 13ì¼  
**ëª©ì **: PUBC í‘œì¤€í˜•/ê°œì„ í˜• ë¹„êµ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ í”„ë¡œì íŠ¸ êµ¬ì¡° ê°œì„ 

---

## ğŸ“‹ ì‘ì—… ë‚´ìš©

### 1. íŒ¨í‚¤ì§€ êµ¬ì¡° ì¬êµ¬ì„±

#### 1-1. `user` â†’ `pubc` íŒ¨í‚¤ì§€ ë³€ê²½
**ì´ìœ **: `user`ëŠ” "ì‚¬ìš©ì"ë¥¼ ì˜ë¯¸í•˜ì§€ë§Œ, ì‹¤ì œë¡œëŠ” PUBC ì¸ì¦/ë¡œê¹… ëª¨ë“ˆì´ë¯€ë¡œ ì˜ë¯¸ê°€ ë¶ˆëª…í™•

**ë³€ê²½ ì „**:
```
src/main/java/iros/test/user/
â”œâ”€â”€ controller/  (ë¹„ì–´ìˆìŒ)
â”œâ”€â”€ dao/         (ë¹„ì–´ìˆìŒ)
â”œâ”€â”€ service/     (ë¹„ì–´ìˆìŒ)
â”œâ”€â”€ web/         (ë¹„ì–´ìˆìŒ)
â”œâ”€â”€ domain/
â”‚   â””â”€â”€ UserCrtfcVO.java
â”œâ”€â”€ mock/
â”‚   â”œâ”€â”€ MockCommonProc.java
â”‚   â””â”€â”€ MockUserCrtfcVO.java
â””â”€â”€ improved/
```

**ë³€ê²½ í›„**:
```
src/main/java/iros/test/pubc/
â”œâ”€â”€ domain/
â”‚   â””â”€â”€ UserCrtfcVO.java
â”œâ”€â”€ mock/        # í‘œì¤€í˜•
â”‚   â”œâ”€â”€ MockCommonProc.java
â”‚   â””â”€â”€ MockUserCrtfcVO.java
â””â”€â”€ improved/    # ê°œì„ í˜• (ì¤€ë¹„)
```

**ì‘ì—… ë‚´ìš©**:
- âœ… ë””ë ‰í† ë¦¬ ì´ë¦„ ë³€ê²½: `user` â†’ `pubc`
- âœ… ë¶ˆí•„ìš”í•œ ë¹ˆ ë””ë ‰í† ë¦¬ ì‚­ì œ: `controller`, `dao`, `service`, `web`
- âœ… ëª¨ë“  Java íŒŒì¼ package ì„ ì–¸ ìˆ˜ì •: `iros.test.user.*` â†’ `iros.test.pubc.*`
- âœ… import ë¬¸ ì—…ë°ì´íŠ¸

#### 1-2. `test` â†’ `api` íŒ¨í‚¤ì§€ ë³€ê²½
**ì´ìœ **: `test`ëŠ” í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì˜¤í•´ë  ìˆ˜ ìˆìœ¼ë©°, í”„ë¡œì íŠ¸ê°€ API ì„œë¹„ìŠ¤ì´ë¯€ë¡œ `api`ê°€ ë” ëª…í™•

**ë³€ê²½ ì „**:
```
src/main/java/iros/test/
â”œâ”€â”€ common/
â”œâ”€â”€ facility/
â””â”€â”€ pubc/
```

**ë³€ê²½ í›„**:
```
src/main/java/iros/api/
â”œâ”€â”€ common/
â”œâ”€â”€ facility/
â””â”€â”€ pubc/
```

**ì‘ì—… ë‚´ìš©**:
- âœ… ë””ë ‰í† ë¦¬ ì´ë¦„ ë³€ê²½: `test` â†’ `api`
- âœ… ëª¨ë“  Java íŒŒì¼ package ì„ ì–¸ ìˆ˜ì •: `iros.test.*` â†’ `iros.api.*`
- âœ… ëª¨ë“  Java íŒŒì¼ import ë¬¸ ìˆ˜ì •

### 2. Spring ì„¤ì • íŒŒì¼ ì—…ë°ì´íŠ¸

#### root-context.xml
```xml
<!-- ë³€ê²½ ì „ -->
<context:component-scan base-package="iros.test">

<!-- ë³€ê²½ í›„ -->
<context:component-scan base-package="iros.api">
```

```xml
<!-- ë³€ê²½ ì „ -->
<property name="basePackage" value="iros.test.**.dao"/>

<!-- ë³€ê²½ í›„ -->
<property name="basePackage" value="iros.api.**.dao"/>
```

#### servlet-context.xml
```xml
<!-- ë³€ê²½ ì „ -->
<context:component-scan base-package="iros.test.**.controller"/>
<context:component-scan base-package="iros.test.**.web"/>

<!-- ë³€ê²½ í›„ -->
<context:component-scan base-package="iros.api.**.controller"/>
<context:component-scan base-package="iros.api.**.web"/>
```

```xml
<!-- ë³€ê²½ ì „ -->
<bean class="iros.test.common.interceptor.PubcAuthInterceptor"/>

<!-- ë³€ê²½ í›„ -->
<bean class="iros.api.common.interceptor.PubcAuthInterceptor"/>
```

### 3. MyBatis ì„¤ì • ì—…ë°ì´íŠ¸

#### mybatis-config.xml
```xml
<!-- ë³€ê²½ ì „ -->
<typeAlias alias="CultureFacilityVO" type="iros.test.facility.domain.CultureFacilityVO"/>
<typeAlias alias="UserCrtfcVO" type="iros.test.user.domain.UserCrtfcVO"/>

<!-- ë³€ê²½ í›„ -->
<typeAlias alias="CultureFacilityVO" type="iros.api.facility.domain.CultureFacilityVO"/>
<typeAlias alias="UserCrtfcVO" type="iros.api.pubc.domain.UserCrtfcVO"/>
```

### 4. Logback ì„¤ì • ì—…ë°ì´íŠ¸

#### logback.xml
```xml
<!-- ë³€ê²½ ì „ -->
<logger name="iros.test" level="DEBUG">
<logger name="iros.test.**.dao" level="TRACE">

<!-- ë³€ê²½ í›„ -->
<logger name="iros.api" level="DEBUG">
<logger name="iros.api.**.dao" level="TRACE">
```

---

## ğŸ“ ìµœì¢… íŒ¨í‚¤ì§€ êµ¬ì¡°

```
src/main/java/iros/api/
â”œâ”€â”€ common/                       # ê³µí†µ ìœ í‹¸ë¦¬í‹°
â”‚   â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ controller/
â”‚   â”œâ”€â”€ dao/
â”‚   â”œâ”€â”€ domain/
â”‚   â”œâ”€â”€ exception/
â”‚   â”‚   â””â”€â”€ ResourceNotFoundException.java
â”‚   â”œâ”€â”€ interceptor/
â”‚   â”œâ”€â”€ service/
â”‚   â”œâ”€â”€ util/
â”‚   â””â”€â”€ web/
â”‚
â”œâ”€â”€ facility/                     # ë¬¸í™”ì‹œì„¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë„ë©”ì¸
â”‚   â”œâ”€â”€ controller/
â”‚   â”‚   â””â”€â”€ CultureFacilityRestController.java
â”‚   â”œâ”€â”€ dao/
â”‚   â”‚   â””â”€â”€ CultureFacilityMapper.java
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â””â”€â”€ CultureFacilityVO.java
â”‚   â”œâ”€â”€ mock/
â”‚   â”‚   â””â”€â”€ CultureFacilityMockMapper.java
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â”œâ”€â”€ CultureFacilityService.java
â”‚   â”‚   â””â”€â”€ CultureFacilityServiceImpl.java
â”‚   â””â”€â”€ web/
â”‚
â””â”€â”€ pubc/                         # PUBC ì¸ì¦/ë¡œê¹… ëª¨ë“ˆ
    â”œâ”€â”€ domain/
    â”‚   â””â”€â”€ UserCrtfcVO.java      # ì‚¬ìš©ì ì¸ì¦ ì •ë³´ VO
    â”œâ”€â”€ mock/                     # í‘œì¤€í˜• (Mock ê¸°ë°˜)
    â”‚   â”œâ”€â”€ MockCommonProc.java   # í‘œì¤€í˜• ì¸ì¦/ë¡œê¹…
    â”‚   â””â”€â”€ MockUserCrtfcVO.java
    â””â”€â”€ improved/                 # ê°œì„ í˜• (ìºì‹œ + ë¹„ë™ê¸°)
        â””â”€â”€ (í–¥í›„ ì¶”ê°€ ì˜ˆì •)
```

---

## âœ… ê²€ì¦ ê²°ê³¼

- âœ… ëª¨ë“  Java íŒŒì¼ ì»´íŒŒì¼ ì—ëŸ¬ ì—†ìŒ
- âœ… Package ì„ ì–¸ ì¼ê´€ì„± í™•ì¸
- âœ… Import ë¬¸ ì •í™•ì„± í™•ì¸
- âœ… Spring ì„¤ì • íŒŒì¼ ì •í•©ì„± í™•ì¸
- âœ… MyBatis ì„¤ì • ì •í•©ì„± í™•ì¸
- âœ… Logback ì„¤ì • ì •í•©ì„± í™•ì¸

---

## ğŸ¯ ê°œì„  íš¨ê³¼

### Before
```
iros.test.user.mock.MockCommonProc
```
- âŒ `test` - í…ŒìŠ¤íŠ¸ ì½”ë“œë¡œ ì˜¤í•´ ê°€ëŠ¥
- âŒ `user` - PUBC ì¸ì¦ ëª¨ë“ˆê³¼ ì˜ë¯¸ ë¶ˆì¼ì¹˜

### After
```
iros.api.pubc.mock.MockCommonProc
```
- âœ… `api` - API ì„œë¹„ìŠ¤ í”„ë¡œì íŠ¸ì„ì„ ëª…í™•íˆ í‘œí˜„
- âœ… `pubc` - PUBC ëª¨ë“ˆì„ì„ ëª…í™•íˆ í‘œí˜„
- âœ… `mock` - í‘œì¤€í˜• Mock êµ¬í˜„ì„ì„ í‘œí˜„

---

## ğŸ“ ë‹¤ìŒ ë‹¨ê³„ ì¤€ë¹„ ì‚¬í•­

### ìƒì„±ëœ ë””ë ‰í† ë¦¬
- âœ… `src/main/java/iros/api/pubc/improved/` - ê°œì„ í˜• í´ë˜ìŠ¤ ì¤€ë¹„
- âœ… `src/main/resources/pubc/` - PUBC ì „ìš© ì„¤ì • íŒŒì¼ ì¤€ë¹„

### ì‚­ì œëœ í•­ëª©
- âœ… `src/main/java/iros/api/pubc/config/` - ë¶ˆí•„ìš”í•œ Java Config ë””ë ‰í† ë¦¬
- âœ… ë¹ˆ ë””ë ‰í† ë¦¬: `controller`, `dao`, `service`, `web`

---

## ğŸ”„ ë³€ê²½ ì˜í–¥ë„

### ì˜í–¥ ë°›ëŠ” íŒŒì¼ (ìë™ ìˆ˜ì • ì™„ë£Œ)
- Java ì†ŒìŠ¤ íŒŒì¼: 10ê°œ
- Spring XML ì„¤ì •: 2ê°œ (root-context.xml, servlet-context.xml)
- MyBatis ì„¤ì •: 1ê°œ (mybatis-config.xml)
- Logback ì„¤ì •: 1ê°œ (logback.xml)

### ì˜í–¥ ì—†ëŠ” íŒŒì¼
- properties íŒŒì¼ (íŒ¨í‚¤ì§€ ì°¸ì¡° ì—†ìŒ)
- JSP/HTML íŒŒì¼ (íŒ¨í‚¤ì§€ ì°¸ì¡° ì—†ìŒ)
- pom.xml (íŒ¨í‚¤ì§€ ì°¸ì¡° ì—†ìŒ)

---

## ğŸš¨ ì£¼ì˜ ì‚¬í•­

### ë¬¸ì„œ íŒŒì¼ ì—…ë°ì´íŠ¸ í•„ìš” (ìˆ˜ë™)
ë‹¤ìŒ ë¬¸ì„œë“¤ì€ ì´ì „ íŒ¨í‚¤ì§€ ê²½ë¡œë¥¼ ì°¸ì¡°í•˜ê³  ìˆì„ ìˆ˜ ìˆìŒ:
- `.github/copilot-instructions.md`
- `CLAUDE.md`
- `docs/**/*.md`

â†’ í•„ìš” ì‹œ ìˆ˜ë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ í•„ìš”

---

**ì‘ì—… ì™„ë£Œ ìƒíƒœ**: âœ… íŒ¨í‚¤ì§€ êµ¬ì¡° ì¬êµ¬ì„± ì™„ë£Œ  
**ë‹¤ìŒ ë‹¨ê³„**: PUBC ê°œì„ í˜• êµ¬í˜„ ì¤€ë¹„ ì™„ë£Œ
