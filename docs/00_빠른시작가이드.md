# ğŸš€ ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

**PUBC Test APIë¥¼ 5ë¶„ ì•ˆì— ì‹¤í–‰í•˜ê³  í…ŒìŠ¤íŠ¸í•˜ê¸°**

---

## ğŸ“¦ ì¤€ë¹„ë¬¼

- macOS (Apple Silicon ë˜ëŠ” Intel)
- Maven 3.6+
- ì¸í„°ë„· ì—°ê²° (JDK/JBoss ë‹¤ìš´ë¡œë“œ)

---

## âš¡ ë¹ ë¥¸ ì‹¤í–‰ (5ë‹¨ê³„)

### 1ë‹¨ê³„: í”„ë¡œì íŠ¸ í´ë¡  (ì™„ë£Œ âœ“)

```bash
cd /Users/byunglim/Prj_Claude/PubcTestApi
```

### 2ë‹¨ê³„: ë¹Œë“œ

```bash
mvn clean package -DskipTests
```

**ì˜ˆìƒ ì‹œê°„**: 1-2ë¶„  
**ê²°ê³¼**: `target/pubc-test-api.war` íŒŒì¼ ìƒì„±

### 3ë‹¨ê³„: ë°°í¬

```bash
cp target/pubc-test-api.war env/jboss/wildfly-26.1.3.Final/standalone/deployments/
```

### 4ë‹¨ê³„: ì„œë²„ ì‹œì‘

```bash
./bin/jboss-start.sh
```

**ëŒ€ê¸°**: ì„œë²„ ì‹œì‘ ì™„ë£Œê¹Œì§€ ì•½ 30ì´ˆ (ë¡œê·¸ì—ì„œ "started in" ë©”ì‹œì§€ í™•ì¸)

### 5ë‹¨ê³„: API í…ŒìŠ¤íŠ¸

```bash
# ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸
curl "http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001&pageSize=5"

# ë˜ëŠ” ìë™ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰
./scripts/test-api.sh
```

---

## ğŸ¯ ì£¼ìš” ì—”ë“œí¬ì¸íŠ¸

### ê¸°ë³¸ URL
```
http://localhost:8080/pubc-test-api/api
```

### ìœ íš¨í•œ ì„œë¹„ìŠ¤í‚¤
- `TEST_KEY_001`
- `TEST_KEY_002`
- `DEMO_KEY`
- `DEV_KEY`

### API ì˜ˆì‹œ

**1. ì „ì²´ ë¬¸í™”ì‹œì„¤ ëª©ë¡**
```bash
curl "http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001"
```

**2. ë°•ë¬¼ê´€ë§Œ ì¡°íšŒ**
```bash
curl "http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001&facilityType=ë°•ë¬¼ê´€"
```

**3. ì„œìš¸ ì§€ì—­ë§Œ ì¡°íšŒ**
```bash
curl "http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001&regionCode=11"
```

**4. íŠ¹ì • ì‹œì„¤ ìƒì„¸ ì •ë³´**
```bash
curl "http://localhost:8080/pubc-test-api/api/facilities/FAC001?serviceKey=TEST_KEY_001"
```

**5. ì‹œì„¤ ìœ í˜• ëª©ë¡**
```bash
curl "http://localhost:8080/pubc-test-api/api/facilities/types?serviceKey=TEST_KEY_001"
```

---

## ğŸ”§ ë¬¸ì œ í•´ê²°

### ì„œë²„ê°€ ì‹œì‘ë˜ì§€ ì•Šì„ ë•Œ

```bash
# ê¸°ì¡´ í”„ë¡œì„¸ìŠ¤ í™•ì¸ ë° ì¢…ë£Œ
./bin/jboss-stop.sh

# í¬íŠ¸ ì‚¬ìš© í™•ì¸
lsof -i :8080

# ë¡œê·¸ í™•ì¸
tail -50 env/jboss/wildfly-26.1.3.Final/standalone/log/server.log
```

### APIê°€ 404 ì—ëŸ¬ë¥¼ ë°˜í™˜í•  ë•Œ

```bash
# ë°°í¬ ìƒíƒœ í™•ì¸
ls -la env/jboss/wildfly-26.1.3.Final/standalone/deployments/

# .deployed ë§ˆì»¤ íŒŒì¼ì´ ìˆì–´ì•¼ í•¨
# .failed íŒŒì¼ì´ ìˆìœ¼ë©´ ë°°í¬ ì‹¤íŒ¨

# ì¬ë°°í¬
rm -rf env/jboss/wildfly-26.1.3.Final/standalone/deployments/pubc-test-api.war*
cp target/pubc-test-api.war env/jboss/wildfly-26.1.3.Final/standalone/deployments/
```

### ì¸ì¦ ì—ëŸ¬ (401)

```bash
# ì„œë¹„ìŠ¤í‚¤ í™•ì¸ (ëŒ€ì†Œë¬¸ì êµ¬ë¶„)
curl "http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001"

# ìœ íš¨í•œ í‚¤: TEST_KEY_001, TEST_KEY_002, DEMO_KEY, DEV_KEY
```

---

## ğŸ“Š í†µí•© í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸

ìë™í™”ëœ í…ŒìŠ¤íŠ¸ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ì—¬ ëª¨ë“  APIë¥¼ í•œ ë²ˆì— í…ŒìŠ¤íŠ¸:

```bash
./scripts/test-api.sh
```

**í…ŒìŠ¤íŠ¸ í•­ëª©**:
- âœ… ì„œë²„ ìƒíƒœ í™•ì¸
- âœ… ë¬¸í™”ì‹œì„¤ ëª©ë¡ ì¡°íšŒ (ì „ì²´, ìœ í˜•ë³„, ì§€ì—­ë³„)
- âœ… ìƒì„¸ ì¡°íšŒ
- âœ… í˜ì´ì§• í…ŒìŠ¤íŠ¸
- âœ… ì—ëŸ¬ ì¼€ì´ìŠ¤ (ì˜ëª»ëœ í‚¤, ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ID ë“±)
- âœ… ì„±ëŠ¥ ì¸¡ì •

---

## ğŸ› ï¸ Postman ì‚¬ìš©

1. **Postman Collection ë¶ˆëŸ¬ì˜¤ê¸°**
   ```
   íŒŒì¼: scripts/pubc-test-api.postman_collection.json
   ```

2. **Postman ì‹¤í–‰**
   - File â†’ Import â†’ `scripts/pubc-test-api.postman_collection.json` ì„ íƒ
   - Collectionì—ì„œ ìš”ì²­ ì„ íƒ í›„ "Send" í´ë¦­

3. **í™˜ê²½ ë³€ìˆ˜ ì„¤ì •** (ì„ íƒì‚¬í•­)
   - `baseUrl`: `http://localhost:8080/pubc-test-api/api`
   - `serviceKey`: `TEST_KEY_001`

---

## ğŸŒ ë¸Œë¼ìš°ì € í…ŒìŠ¤íŠ¸

ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ í…ŒìŠ¤íŠ¸ (GET ìš”ì²­ë§Œ):

```
http://localhost:8080/pubc-test-api/api/facilities?serviceKey=TEST_KEY_001&pageSize=5
```

**JSON ë·°ì–´ í™•ì¥ í”„ë¡œê·¸ë¨ ì¶”ì²œ**:
- Chrome: JSON Viewer
- Firefox: JSONView

---

## ğŸ“š ìƒì„¸ ë¬¸ì„œ

ë” ìì„¸í•œ ì •ë³´ëŠ” ë‹¤ìŒ ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ì„¸ìš”:

- **ë°°í¬ ê°€ì´ë“œ**: `docs/08_ë¡œì»¬ë°°í¬ë°APIí…ŒìŠ¤íŠ¸ê°€ì´ë“œ.md`
- **API ëª…ì„¸ì„œ**: `docs/03_APIëª…ì„¸ì„œ.md`
- **ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜**: `docs/02_ì‹œìŠ¤í…œì•„í‚¤í…ì²˜ì„¤ê³„ì„œ.md`
- **í™˜ê²½ ì„¤ì¹˜**: `docs/99_ë¡œì»¬í™˜ê²½ì„¤ì¹˜ê°€ì´ë“œ.md`

---

## ğŸ”„ ì¬ì‹œì‘

ì„œë²„ ì¬ì‹œì‘ì´ í•„ìš”í•  ë•Œ:

```bash
# ì¢…ë£Œ
./bin/jboss-stop.sh

# ì‹œì‘
./bin/jboss-start.sh
```

---

## ğŸ“ Mock ë°ì´í„°

í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” **Mock ë°ì´í„°**ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤:
- ë°ì´í„°ë² ì´ìŠ¤ ë¶ˆí•„ìš”
- 50ê°œì˜ ìƒ˜í”Œ ë¬¸í™”ì‹œì„¤ ë°ì´í„°
- ì¦‰ì‹œ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

**Mock ë°ì´í„° ìœ„ì¹˜**: `src/main/java/iros/test/facility/mock/CultureFacilityMockMapper.java`

---

## ğŸ‰ ë‹¤ìŒ ë‹¨ê³„

âœ… **ì™„ë£Œí•œ ì‘ì—…**:
- [x] ë¡œì»¬ í™˜ê²½ êµ¬ì¶•
- [x] ì• í”Œë¦¬ì¼€ì´ì…˜ ë¹Œë“œ ë° ë°°í¬
- [x] REST API í…ŒìŠ¤íŠ¸

ğŸ”œ **ì¶”ê°€ ì‘ì—…** (ì„ íƒì‚¬í•­):
- [ ] SOAP ì›¹ ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸
- [ ] ì‹¤ì œ PUBC ëª¨ë“ˆ ì—°ë™
- [ ] CUBRID ë°ì´í„°ë² ì´ìŠ¤ ì—°ë™
- [ ] ìš´ì˜ í™˜ê²½ ë°°í¬

---

**ë¬¸ì„œ ë²„ì „**: 1.0  
**ì‘ì„±ì¼**: 2025-11-13  
**í”„ë¡œì íŠ¸**: PUBC Test API
